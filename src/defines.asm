!SRAM_ITEM_BUFFER = $40C000   ; C000-C7FF - Holds item data for the non-active games
; This covers SRAM (from RAM $7E:D7C0 -> $7E:D870) with padding
!SM_BUFFER_START #= !SRAM_ITEM_BUFFER
!SM_BUFFER_END #= !SM_BUFFER_START+$0100

; This covers SRAM from $0300 to $4FD (with padding)
!ALTTP_BUFFER_START #= !SM_BUFFER_END
!ALTTP_BUFFER_END #= !ALTTP_BUFFER_START+$0200

!ALTTP_INVENTORY_SWAP #= !ALTTP_BUFFER_START+$8C
!ALTTP_INVENTORY_SWAP_2 #= !ALTTP_BUFFER_START+$8E

; This covers RAM from ($657) to $757 (with padding)
!Z1_BUFFER_START #= !ALTTP_BUFFER_END
!Z1_BUFFER_END #= !Z1_BUFFER_START+$0100

; This covers SRAM from $6876 to $6882 (with padding)
!M1_BUFFER_START #= !Z1_BUFFER_END
!M1_BUFFER_END #= !M1_BUFFER_START+$0100

; Temp buffer for item data
!INVENTORY_TEMP_1 #= !M1_BUFFER_END
!INVENTORY_TEMP_2 #= !INVENTORY_TEMP_1+$0002
!INVENTORY_TEMP_3 #= !INVENTORY_TEMP_2+$0002

print "SRAM buffer ends at ", hex(!M1_BUFFER_END)

!SRAM_CURRENT_GAME = $40A000

!SRAM_INITIALIZED = $40A008
!SRAM_DMA_RET = $40A010
!SRAM_SAVING = $40A020
!SRAM_TIMER1 = $40A030
!SRAM_TIMER2 = $40A032

!SRAM_SM_COMPLETED = $40A040
!SRAM_ALTTP_COMPLETED = $40A042
!SRAM_Z1_COMPLETED = $40A044
!SRAM_M1_COMPLETED = $40A046

!SRAM_SM_START = $400010
!SRAM_SM_EXIT = $401400
!SRAM_SM_STATS = $40A200    ; to $40A2FF

!SRAM_ALTTP_START = $402000
!SRAM_ALTTP_EXIT = $40A800
!SRAM_ALTTP_DARKWORLD = $40A802
!SRAM_ALTTP_EQUIPMENT_1 = $40A804
!SRAM_ALTTP_EQUIPMENT_2 = $40A805
!SRAM_ALTTP_FRESH_FILE = $40A808  ; used for first transition to ALTTP
!SRAM_ALTTP_RANDOMIZER_SAVED = $40A80A
!SRAM_ALTTP_CHECKSUM = $40A810 ; to $40A830


!SRAM_ALTTP_ITEM_BUF #= !ALTTP_BUFFER_START

!SRAM_ALTTP_RANDOMIZER_BUF = $40AA00
!SRAM_ALTTP_OVERWORLD_BUF = $40AB00 ; to $40AB10
!SRAM_ALTTP_STATS_BUF = $40AB20 ; to $40AB67
!SRAM_ALTTP_SMALLKEY_BUF = $40AB80 ; to $40AB8F
!SRAM_ALTTP_SPC_BUF = $40AC00 ; to $40ACFF

!SRAM_RANDOLIVE = $40AD00   ; to $40AEFF

; New multiworld communication stuff
!SRAM_MW_ITEMS_RECV = $40B000
!SRAM_MW_ITEMS_RECV_RPTR = $40B600
!SRAM_MW_ITEMS_RECV_WPTR = $40B602
!SRAM_MW_ITEMS_RECV_SPTR = $40B604  ; This gets updated on game save and reloaded into RPTR on game load

!SRAM_MW_ITEMS_SENT_RPTR = $40B680
!SRAM_MW_ITEMS_SENT_WPTR = $40B682
!SRAM_MW_ITEMS_SENT = $40B700       ; [worldId, itemId, itemIndex] (need unique item index to prevent duping)

!SRAM_MW_SEED_DATA = $40B6a0

; --- SA-1 IRAM ---

; IRAM SA-1 vector code (30F0-30FF)
!IRAM_VECTOR_CODE = $0030f0

; Temporary IRAM variables (3500-35FF)
!IRAM_TRANSITION_GAME_ID = $003500
!IRAM_TRANSITION_DESTINATION_ID = $003502
!IRAM_TRANSITION_DESTINATION_ARGS = $003504
!IRAM_TRANSITION_GAME_PREV_ID = $003506

; Temp things
!IRAM_INVENTORY_TEMP_1 = $003510
!IRAM_INVENTORY_TEMP_2 = $003512

; Z3 things
!IRAM_ALTTP_GFX_POINTER = $003520

; Z1/M1 Overlay (3530-3550)
!IRAM_OVERLAY_START = $003530 

!IRAM_NMI = $0037f0
!IRAM_IRQ = $0037f4

